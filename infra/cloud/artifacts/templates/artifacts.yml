---
AWSTemplateFormatVersion: 2010-09-09

Outputs:
  BookkeeperWebAppECRRepositoryName:
    Description: The ECR repository for the web app
    Value: !Ref BookkeeperWebAppECRRepository
    Export:
      Name: BookkeeperWebAppECRRepositoryName
  BookkeeperAccountServiceECRRepositoryName:
    Description: The ECR repository for the account service
    Value: !Ref BookkeeperApiECRRepository
    Export:
      Name: BookkeeperAccountServiceECRRepositoryName
  BookkeeperPipelineTriggerECRRepositoryName:
    Description: The ECR repository for the pipeline trigger
    Value: !Ref BookkeeperPipelineTriggerECRRepository
    Export:
      Name: BookkeeperPipelineTriggerECRRepositoryName
  BookkeeperArtifactsBucketName:
    Value: !Ref BookkeeperArtifactsBucket
    Export:
      Name: BookkeeperArtifactsBucketName

Resources:
  BookkeeperApiECRRepository:
    Type: AWS::ECR::Repository
    Properties:
      RepositoryName: bookkeeper/account-service

  BookkeeperWebAppECRRepository:
    Type: AWS::ECR::Repository
    Properties:
      RepositoryName: bookkeeper/web-app

  BookkeeperPipelineTriggerECRRepository:
    Type: AWS::ECR::Repository
    Properties:
      RepositoryName: bookkeeper/pipeline-trigger

  BookkeeperArtifactsBucket:
    Type: AWS::S3::Bucket
    Properties:
      BucketName: bookkeeper-app-artifacts
